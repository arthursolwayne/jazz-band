# Gene Knobs Schema for GEPA
# These parameters control prompt variants and musical output characteristics

numeric:
  # Chord density target (0.0 = sparse, 1.0 = dense chording)
  chord_density:
    default: 0.5
    min: 0.0
    max: 1.0
    mutation_sigma: 0.1

  # Probability of drum ghost notes (subtle off-beat hits)
  ghost_note_prob:
    default: 0.1
    min: 0.0
    max: 0.3
    mutation_sigma: 0.05

  # Weight for reusing motifs from memory (0.0 = novel, 1.0 = repetitive)
  motif_reuse_weight:
    default: 0.6
    min: 0.0
    max: 1.0
    mutation_sigma: 0.1

  # Syncopation target (0.0 = on-beat, 1.0 = highly syncopated)
  syncopation_target:
    default: 0.4
    min: 0.0
    max: 1.0
    mutation_sigma: 0.1

  # Interplay density (0.0 = independent, 1.0 = constant call-response)
  interplay_density:
    default: 0.5
    min: 0.0
    max: 1.0
    mutation_sigma: 0.1

textual:
  # Preferred musical patterns (added to prompt)
  do_list:
    default: []
    examples:
      - "Use ii-V-I progressions at cadence points (bars 4, 8, 12)"
      - "Create call-response between sax and trumpet"
      - "Maintain walking bass with root-fifth patterns"
      - "Add piano voicings beyond simple triads"

  # Patterns to avoid (added to prompt as constraints)
  dont_list:
    default: []
    examples:
      - "Avoid excessive rests in bass line"
      - "Don't overuse chromatic runs in horns"
      - "Reduce left-hand piano density"
      - "Minimize simultaneous melodic motion in sax/trumpet"

# Population settings
population:
  size: 8
  elitism_count: 2
  hall_of_fame_size: 10

# Evolution settings
evolution:
  generations: 50
  mutation_rate: 0.8
  crossover_rate: 0.0  # Disabled for initial version
  reflective_mutation_prob: 0.5  # Probability of using Judge-guided vs numeric mutation
